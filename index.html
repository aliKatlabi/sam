<!DOCTYPE HTML>

<html>
<head>

	<title>student interface </title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="js/user_services.js"></script>

	
	<!-- Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Saira:300,400,500,600,700&amp;display=swap" rel="stylesheet">
	<link href="https://fonts.googleapis.com/css?family=Nunito:300i,400,400i,600,600i,700&amp;display=swap" rel="stylesheet">
	<!-- /Fonts -->
	
	<!-- Styles -->
    <link rel="stylesheet" href="css/user_style.css">
	<!-- /Styles -->
</head>
<body  onload=update_info() >
	<!-- info -->
	<div class="panel_info" >
		<div class="container">
			
			<div class="text_area" id="text_area" >
			
				<p class="inf"></p>		
							
			</div>
		
		</div>
	</div>
	<!-- /info -->
	
	<div class="main" >
	<!-- upload -->
	
	
	
	<div class="panel_upload">
			<div class="container">
				<form  method="POST" enctype="multipart/form-data" class="container" id="form_submit">
					<div class="dragdrop_area" id="dragdrop_area">
						<p>Drag and Drop </p>
					</div>
					
					<script>
					const fileTypes = [
								  "application/pdf"
								];
								
	let dropArea = document.getElementById('dragdrop_area');

	  dropArea.addEventListener('dragenter', handleDragenter, false);
	  dropArea.addEventListener('dragleave', handleDragleave, false);
	  //dropArea.addEventListener('dragover', handleDragover, false);
	  dropArea.addEventListener('drop', handleDrop, false);
		
	['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
	  dropArea.addEventListener(eventName, preventDefaults, false)
	});

	function preventDefaults (e) {
	  e.preventDefault();
	  e.stopPropagation();
	}
	function handleDragenter(e) {

		let dt = e.dataTransfer;
		document.getElementById('dragdrop_area').style.color = "#120212";
		}
	function handleDragleave(e) {

		let dt = e.dataTransfer;
		//document.getElementById('dragdrop_area').style.height = "#120212";
		}
		
	function handleDrop(e) {
		  e.preventDefault();
		  let dt = e.dataTransfer;
		  let file = dt.files[0];
		  let input = document.getElementById('file_id');
		  
		  input.files = dt.files;
		  var log 	= document.getElementById('file_txt');
		log.innerHTML = file.type;
		  if(validFileType(file)){
				var log 	= document.getElementById('file_txt');
				log.innerHTML = file.name;
			}else{
				var log 	= document.getElementById('file_txt');
				log.innerHTML = "not supported";
				input.files[0].clear;
			}
		}
	
	</script>
	
					<div class="control" >
						<label for="NeptunCode" class="lable" id="NP_lable">Neptun Code</label>
						<input type="text" name="NeptunCode" pattern="[0-9A-Za-z]{6}" class="input"  id="NP_input" required> </input> 
						<label for="name" class="lable" id="name_lable" >Student Name</label>
						<input type="text"  name="name" class="input" id="name_input" required> </input> 
						<label for="Email" class="lable" id="Email_lable" >Email</label>
						<input type="email"  name="Email" class="input" id="Email_input" required> </input> 
						
						<input type="button"  value="Submit" class="button_submit" style="grid-column: 1/2" onclick=service_submit() > 
						</input>
						<script>
							
							function validFileType(file) {
								  return fileTypes.includes(file.type);
								}
							function go(){
								var input = document.getElementById('file_id');
								var file = input.files[0];
								
								if(validFileType(file)){
									var log 	= document.getElementById('file_txt');
									log.innerHTML = file.name;
								
								}else{
								
									
									var log 	= document.getElementById('file_txt');
									log.innerHTML = " NOT SUPPORTED TYPE";
									input.files[0].clear;
								}
								
								
							}
						</script>
						<div type="button"  value="Upload" class="button_file" style="position:relative;grid-column: 2/3;">
							<input 	type="file" name="file" id="file_id" 
									style="width:100%;position:absolute;opacity:0;top:3px;left:3px;cursor:pointer;"
									accept=".doc,.docx,.pdf"
									onchange="go()"
									> Upload </input>
							
						</div>
						<div id="file_txt" style="max-height:30px;overflow:auto;grid-row: 6/7;grid-column: 1/3;"></div>
						
						
					
					</div>
				</form>
			</div>
		</div>
	
	<!-- upload -->
	
	
	<!-- query -->
	<div class="panel_query" >
	
		<div class="container">
			<!-- left -->
		
			<div class="res" id="res">
			
				<div class="q_result_area" id="q_res">
									
				</div>
				
			
			</div>
			
		<!-- /left -->
		
		<!-- right -->
		<div class="qur" >
				
			<form  method="POST" enctype="multipart/form-data" id="form_query" class="form_query">
				
			
				<label for="idcode" class="lable"> Use your given id code </label>
				 
				<input type="text" id="idcode" name="idcode" class="input" > </input> 
				
				<input type="button"  value="Query" class="button_query" onclick=service_query()> </input> 

				  
			</form>
		</div>
		<!-- /right -->
		
	
		</div>
	</div>
	</div>
	<!-- /query -->
	
	<!-- Footer -->
	<div style="position:relative;width: 100%;height:60px">
	<footer >
		<span>&copy; 2020 Ali katlabi. Content is licensed under the <a href="https://creativecommons.org/publicdomain/mark/1.0/">Public Domain</a>.</span>
	</footer>
	</div>
		<!-- /Footer -->
	
</body>
	<!-- /Wrapper All -->	

<!-- Scripts -->

<script src="js/logger_worker.js"></script>


<!-- /Scripts -->


</html>